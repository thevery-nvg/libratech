Обзор проекта
LibraTech — это современная платформа для управления образовательным контентом с продвинутой системой контроля доступа.
Система позволяет создавать, хранить и распределять цифровые материалы (статьи, видео, курсы) с
гибкой настройкой прав доступа для разных категорий пользователей.

Проект построен по модульному принципу с четким разделением ответственности:

Core - Базовый модуль
Минимальный набор для работы приложения
GET /ping - Проверка доступности сервиса
GET /health - Детальная проверка здоровья (БД, кэш, внешние сервисы)
GET /version - Версия API и сборки
GET /docs - Автоматическая документация OpenAPI
Требует прав: admin.access

Auth - Аутентификация и профиль
Регистрация, вход и управление учетной записью

POST /auth/register - Регистрация нового пользователя
POST /auth/login - Вход в систему (JWT токен)
POST /auth/logout - Выход из системы
POST /auth/refresh - Обновление токена доступа
GET /user/me - Получение профиля текущего пользователя
PATCH /user/me - Обновление профиля
DELETE /user/me - Деактивация аккаунта (мягкое удаление)


RBAC - Управление правами доступа
Ролевая модель с тонкой настройкой разрешений

GET /roles - Список всех ролей с разрешениями
POST /roles - Создание новой роли
GET /roles/{role_name} - Детали роли
PUT /roles/{role_name} - Изменение роли
DELETE /roles/{role_name} - Удаление роли
POST /assign-role - Назначение роли пользователю
DELETE /assign-role - Отзыв роли у пользователя
GET /permissions - Список всех доступных разрешений

LibraTech - Бизнес-логика библиотеки
Управление образовательным контентом

Статьи (/articles)

GET / -  Список статей (фильтры: автор, категория, дата)
GET /{slug} - Получение статьи по уникальному URL-идентификатору
POST / - Создание новой статьи (слаг генерируется автоматически)
PATCH /{slug} - Обновление статьи
DELETE /{slug} - Удаление статьи

Видео-курсы (/videos)
GET / - Каталог видео материалов
GET /{slug} - Просмотр видео с метаданными
POST / - Добавление нового видео
PATCH /{slug} - Редактирование информации о видео
DELETE /{slug} - Удаление видео

Онлайн-курсы (/courses)
GET / - Список доступных курсов
GET /{slug} - Детальная информация о курсе
POST / - Создание нового курса
PATCH /{slug} - Обновление курса
DELETE /{slug} - Удаление курса

Система контроля доступа
Модель юзера не содержит данные о роли.Модель роли не содержит разрешений.
Для этого используются промежуточные таблицы user_roles и role_permissions.
Юзер может иметь несколько ролей.

┌───────────┐    ┌──────────────┐    ┌──────────────┐
│   Users   │    │  user_roles  │    │    Roles     │
│-----------│    │--------------│    │--------------│
│ id        │◄──►│ user_id      │    │ id           │
│ email     │    │ role_id      │◄──►│ name         │
│ ...       │    └──────────────┘    │ description  │
└───────────┘              │         └──────────────┘
                           │                  │
                           ▼         ┌────────▼────────┐
                         ┌─────────────┐    │ role_permissions │
                         │ Permissions │    │------------------│
                         │-------------│    │ role_id          │
                         │ id          │◄──►│ permission_id    │
                         │ code        │    └──────────────────┘
                         │ description │
                         └─────────────┘

Предустановленные роли
Студент	content.read, book.read, course.read, video.read	Базовый доступ к материалам
Преподаватель	Все права студента + content.create, course.create, video.create, content.update	Может создавать и редактировать материалы
Модератор	content.update, content.delete, book.update, video.delete	Контроль качества контента
Администратор	Все права + admin.access	Полный контроль над системой

Ключевые особенности системы прав
-Разделение ролей и разрешений - Роли являются контейнерами для наборов разрешений
-Множественные роли - Один пользователь может иметь несколько ролей одновременно
-Привилегия наивысшего уровня - Если у пользователя есть хотя бы одна роль с нужным разрешением - доступ разрешен
-Динамическая проверка - Middleware автоматически проверяет права перед выполнением эндпоинта

Тестовые данные и разработка.
Для быстрого наполнения системы тестовыми данными реализованы специальные эндпоинты:
/dev_content/seed-content-faker - Создает 50+ статей, видео и курсов с помощью Faker
/dev_rbac/seed-roles-permissions - Создает предопределенные роли (студент, преподаватель, модератор, администратор)
/dev_auth/seed-fake-users - Генерирует тестовых пользователей с помощью Faker

Для доступа требуется admin.access

 Установка зависимостей
 pip install -r requirements.txt